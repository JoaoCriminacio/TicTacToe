<header class="w-full bg-black text-white text-center py-4">
  <h1 class="text-3xl font-bold text-orange-600">üèÄ Tic Tac Toe üèÄ</h1>
</header>

<main>
  @if (!isMatchInProgress) {
    <div class="flex flex-col xl:flex-row justify-around items-center gap-y-8 mt-8 xl:mt-0 min-h-[85vh]">

      <div class="flex flex-col gap-y-2 p-6 bg-white/85 rounded-lg">
        <h2 class="text-2xl font-bold text-orange-600 text-center">Jogador 1</h2>
        <p class="text-center font-bold text-orange-600">Selecione seu jogador</p>

        <div class="grid grid-cols-3 gap-2 mt-4">
          @for (player of players; let i = $index; track i) {
            <div class="w-20 h-20 sm:w-28 sm:h-28 flex items-center justify-center text-4xl font-bold bg-orange-200 border-4 border-orange-700 hover:bg-orange-300 transition"
                 (click)="selectPlayer(player, 'player1')">
              <div class="tooltip">
                <img [src]="player.src" [alt]="player.name" class="w-14 h-14 sm:w-20 sm:h-20"/>
                <span class="tooltiptext">{{ player.name }}</span>
              </div>
            </div>
          }
        </div>
      </div>

      <div class="flex flex-col items-center justify-center gap-y-2 p-2 w-32 h-44 sm:w-44 sm:h-52 bg-white/85 rounded-lg"
           [ngClass]="{'invisible': !player1}">
        <h2 class="font-bold text-orange-600 text-center">{{ player1?.name }}</h2>
        <img [src]="player1?.src" [alt]="player1?.name" class="w-24 h-24 sm:w-36 sm:h-36">
      </div>

      <div class="flex flex-col items-center justify-center gap-y-2 p-2 w-14 h-14 bg-white/85 rounded-lg"
           [ngClass]="{'invisible': !player1 || !player2}">
        <h2 class="text-5xl font-bold text-orange-600 text-center">X</h2>
      </div>

      <div class="flex flex-col items-center justify-center gap-y-2 p-4 w-32 h-44 sm:w-44 sm:h-52 bg-white/85 rounded-lg"
           [ngClass]="{'invisible': !player2}">
        <h2 class="font-bold text-orange-600 text-center">{{ player2?.name }}</h2>
        <img [src]="player2?.src" [alt]="player2?.name" class="w-24 h-24 sm:w-36 sm:h-36">
      </div>

      <div class="flex flex-col gap-y-2 p-6 bg-white/85 rounded-lg mb-8 xl:mb-0">
        <h2 class="text-2xl font-bold text-orange-600 text-center">Jogador 2</h2>
        <p class="text-center font-bold text-orange-600">Selecione seu jogador</p>

        <div class="grid grid-cols-3 gap-2 mt-4">
          @for (player of players; let i = $index; track i) {
            <div class="w-20 h-20 sm:w-28 sm:h-28 flex items-center justify-center text-4xl font-bold bg-orange-200 border-4 border-orange-700 hover:bg-orange-300 transition"
                 (click)="selectPlayer(player, 'player2')">
              <div class="tooltip">
                <img [src]="player.src" [alt]="player.name" class="w-14 h-14 sm:w-20 sm:h-20"/>
                <span class="tooltiptext">{{ player.name }}</span>
              </div>
            </div>
          }
        </div>
      </div>

    </div>

    <footer class="mt-auto flex justify-center py-2">
      <button class="p-2 w-48 rounded-full bg-orange-600 text-white shadow-lg"
              [disabled]="(!player1 || !player2) || (player1 === player2)"
              [ngClass]="{'opacity-50': (!player1 || !player2) || (player1 === player2),
                      'hover:bg-orange-700 transition cursor-pointer': (player1 && player2) && (player1 !== player2)}"
              (click)="startMatch()">
        Ir para a partida
      </button>
    </footer>
  } @else {
    <div class="flex justify-around items-center min-h-[85vh]">
      <app-tic-tac-toe [player1]="player1" [player2]="player2"/>
    </div>

    <footer class="mt-auto flex justify-center py-2">
      <button class="p-2 w-48 rounded-full bg-orange-600 text-white shadow-lg hover:bg-orange-700 transition cursor-pointer"
              (click)="finishMatch()">
        Alterar jogadores
      </button>
    </footer>
  }
</main>

